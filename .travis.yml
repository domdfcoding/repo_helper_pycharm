# This file is managed by 'repo_helper'. Don't edit it directly.
---

os: linux
language: python
dist: focal
cache: pip
python:
  - '3.6'
  - '3.7'
  - '3.8'
  - '3.9'

arch:
  - amd64
  - arm64
install:

  - pip install --upgrade pip
  - pip install tox tox-travis
  - pip install coveralls coverage_pyver_pragma

script:
  - tox -vv
after_success:
  - coveralls


stages:
  - test
  - deploy_pypi


jobs:
  allow_failures:
    - arch: arm64
  exclude:
    - python: '3.7'
      arch: arm64
    - python: '3.8'
      arch: arm64
    - python: '3.9'
      arch: arm64

  include:
    - stage: test
      dist: bionic
      python: 3.8

    - stage: deploy_pypi
      python: "3.6"
      script: skip
      deploy:
        on:
          tags: true
          repo: domdfcoding/repo_helper_pycharm
        provider: pypi
        username: "DomDF"
        password:
          secure: OFMqIyw/buRYpJok3hWOXzsq73bmM0ZPJoVXefOtk+Pl9MOWcGG7fgG1eihWUpRONvn1foUMVqGQ3YW4amc5jspmyx03uSeUWl2YDPTiB90Iq85iBJvCQxwhNWO41cZ8wzHKaVRgmuIEpml/V+CeZngpvQKRsaeVCrtdXuYreId39gBIuAQJQDFfAXgZxb8TRqrpcahBcA6NFMuVXMCufdJn1J6U3S6A6kE/fJHJ4aCRGe2VL4NB3235XakPpRqrNwY0DH352aVP3u7c8vFnkC7FZvtCUNIiY1e4WduZPHqA7D+c1/V1O9RHvPiBvDWn3umgdatDE18+z1koQfvGz/BfORzvMFI7tG4aHxO0NEWMVe1IKFHkDjaxW+W6vAj3aCjOzMQu5wI2APUnOlpdkAwDX3QZs8LXCz0ylFnbtewIKNugBpE/+jhmo6AVCkguovM6jv5/BYMnxe8EFkCiC5Ya480XO6BRIyt7GW2olXziLYQHsmalPjl41u7UsNr9RMHtvRYRXHxat7ZrLkPH5SC3d6SRkoI3O2uaJKa6g28h7f3U4TDq4le3cMzii0x9Sxh1l88Qi9wpfCPwMGkQ+fSq0jGdTnn4Dfk7ygKbewUAay/u0ZX9POaGXU36gQRw1jTt5fFxyfk1EcMoXf6IKIzDbPMQKDfiSRLaQXSljCM=
        distributions: "sdist bdist_wheel"
        skip_existing: true
